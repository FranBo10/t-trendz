{% extends 'base.html.twig' %}

{% block title %}Panier
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="text-center mt-3">Votre panier</h1>
		{% if dataPanier %}
			<div class="table-responsive">
				<table class="table table-primary text-center mt-3">
					<thead>
						<tr>
							<th></th>
							<th>Produit</th>
							<th>Quantité</th>
							<th>Prix</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for item in dataPanier %}
							<tr>
								<td><img src="{{asset('uploads/images/' ~ item.produit.photo)}}" alt="{{ item.produit.titre }}" style="object-fit: cover" width="100" height="100"/></td>
								<td>{{item.produit.titre}}</td>
								<td>{{item.quantite}}</td>
								<td>{{item.produit.prix}}
									€</td>
								<td>
									<a href="{{path('cart_remove', {id: item.produit.id})}}" class="btn-sm btn-info p-1">X</a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
				<h5 class="text-end text-primary me-4">Total:
					{{total}}
					€</h5>
				<div class="text-center">
					<a href="{{path('commandes')}}" class="btn btn-primary">Valider mon panier</a>
				</div>

			</div>
		</div>
	</div>
{% else %}
	<h2 class="text-center my-3 ">Votre panier est vide</h2>
{% endif %}{% endblock %}
